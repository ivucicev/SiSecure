<ion-modal-view ng-controller="LoginController">
    <ion-header-bar class="bar bar-header bar-light">
        <h1 class="title"> Registration </h1>
        <button class="button button-clear icon icon-right ion-close" ng-click="closeModal()"></button>
    </ion-header-bar>
    <ion-content>
        <form name="registerForm">
            <div class="row">
                <div class="col col-100">
                    <label class="item item-input item-icon item-icon-right">
                        <input class="mod-inputs" required type="email" name="email" ng-model="register.email" placeholder="Email">
                        <span ng-show="registerForm.email.$touched">
                            <i ng-show="registerForm.email.$invalid" class="icon ion-close-circled assertive"></i>
                            <i ng-show="!registerForm.email.$invalid" class="icon ion-checkmark-circled balanced"></i>
                        </span>
                    </label>
                    <label class="item item-input ">
                        <input class="mod-inputs" required type="password" name="password" ng-minlength="6" ng-model="register.password" placeholder="Password">
                    </label>
                    <label class="item item-input ">
                        <input class="mod-inputs" required type="password" ng-minlength="6" name="repeat_password" ng-model="register.repeat_password" placeholder="Confirm password">

                    </label>
                    <label class="item item-input">
                        <input class="mod-inputs" required type="text" name="first_name" ng-model="register.first_name" placeholder="First name">
                    </label>
                    <label class="item item-input">
                        <input class="mod-inputs" required type="text" name="last_name" ng-model="register.last_name" placeholder="Last name">
                    </label>
                </div>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="registerForm.email.$dirty && registerForm.email.$invalid && registerForm.email.$touched">
                    <p ng-show="registerForm.email.$error.email"> Invalid email </p>
                    <p ng-show="registerForm.email.$error.required"> Email is required </p>
                </span>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="registerForm.password.$dirty && registerForm.password.$invalid && registerForm.password.$touched">
                    <p ng-show="registerForm.password.$error.minlength"> Password not long enough </p>
                    <p ng-show="registerForm.password.$error.required"> Password is required </p>
                </span>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="registerForm.repeat_password.$dirty && registerForm.repeat_password.$invalid && registerForm.repeat_password.$touched">
                    <p ng-show="registerForm.repeat_password.$error.required"> Password is required </p>
                    <p ng-show="register.passwirdConfirm != register.password"> Passwords do not match </p>
                </span>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="registerForm.$invalid && !registerForm.$pristine && registerForm.first_name.$touched">
                    <p ng-show="registerForm.first_name.$error.required"> Name is required </p>
                </span>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="registerForm.$invalid && !registerForm.$pristine && registerForm.last_name.$touched">
                    <p ng-show="registerForm.last_name.$error.required"> Lastname is required </p>
                </span>
            </div>
            <div class="row">
                <div class="col" style="padding: 0 10px;">
                    <button ng-disabled="registerForm.$invalid || register.password != register.repeat_password" ng-click="registerUser(register)" class="button button-block button-outline icon icon-right ion-person-add">
                        Sign Up
                    </button>
                </div>
            </div>
        </form>
    </ion-content>
</ion-modal-view>
