<ion-modal-view ng-controller="LoginController">
    <ion-header-bar class="bar bar-header bar-light">
        <h1 class="title">Login</h1>
        <button class="button button-clear icon icon-right ion-close" ng-click="closeModal()"></button>
    </ion-header-bar>
    <ion-content>
        <form name="loginForm">
            <div class="row">
                <div class="col col-100">
                    <label class="item item-input item-icon item-icon-right">
                        <input  class="mod-inputs" type="email" name="email" placeholder="email" ng-model="user.email" validator />
                        <i ng-show="loginForm.email.$error.required || loginForm.email.$error.email" class="icon ion-close-circled assertive"></i>
                        <i ng-show="(!loginForm.email.$error.required && !loginForm.email.$error.email) && loginForm.$dirty" class="icon ion-checkmark-circled balanced"></i>
                    </label>
                    <label class="item item-input">
                        <input class="mod-inputs" type="password" name="password" placeholder="password" ng-model="user.password" />
                    </label>
                </div>
            </div>
            <div class="row">
                <span class="input-msgs" ng-show="loginForm.email.$dirty && loginForm.email.$invalid">
                    <p ng-show="loginForm.email.$error.email"> Invalid email </p>
                    <p ng-show="loginForm.email.$error.required"> Email is required </p>
                </span>
                <span class="input-msgs" ng-show="loginForm.password.$dirty && loginForm.password.$invalid">
                    <p ng-show="loginForm.password.$error.minlength"> Password not long enough </p>
                    <p ng-show="loginForm.password.$error.required"> Password is required </p>
                </span>
            </div>
            <div class="row">
                <div class="col">
                    <button ng-disabled="loginForm.email.$dirty && loginForm.email.$invalid || loginForm.password.$pristine" ng-click="signIn(user)" class="button button-block button-outline icon icon-right ion-unlocked">
                        Sign In
                    </button>
                    <a class="button button-block button-clear button-calm" ng-click="showPasswordRecoveryModal()">Forgot password?</a>
                </div>
            </div>
        </form>
    </ion-content>
</ion-modal-view>
